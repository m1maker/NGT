#include"../include/sound_pool"
#include "../include/effect_reverb"
sound_pool p;
double x=0,y=0,z=0;
void main()
{
reverb r;
r.set_wet(0.5);
r.set_dry(1.0);
int e=p.add_effect(r);
show_window("Test");
wait(1000);
p.in_window=true;
p.play_3d("C:/windows/media/tada.wav",x,y,z,5,5,0,0,true);

while(true)
{
wait(5);
p.update_listener_position(x,y,z);
if(key_repeat(KEY_LEFT))x-=1;
else if(key_repeat(KEY_RIGHT))x+=1;
else if(key_repeat(KEY_DOWN))y-=1;
else if(key_repeat(KEY_UP))y+=1;
else if(key_repeat(KEY_PAGEDOWN))z-=1;
else if(key_repeat(KEY_PAGEUP))z+=1;
if(key_pressed(KEY_F1)){
p.hrtf=!p.hrtf ? true : false;
}
if(key_pressed(KEY_F2)){
p.remove_effect(e);
}
if(key_pressed(KEY_F3))
e=p.add_effect(r);
}
}